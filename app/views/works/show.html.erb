<div class="max-w-3xl mx-auto px-6 py-12">
  <div class="mb-8">
    <%= link_to "← Back to Work", works_path, class: "text-[#41CFFF] hover:text-[#E58C2E] transition-colors" %>
  </div>

  <article class="prose prose-lg max-w-none">
    <header class="mb-8 pb-8 border-b-2 border-[#3B2C22]/10">
      <h1 class="text-4xl font-bold mb-4 text-[#3B2C22]"><%= @work.title %></h1>

      <div class="flex flex-wrap items-center gap-4 text-sm text-[#3B2C22]/60 mb-4">
        <span class="px-3 py-1 bg-[#A8E063] text-[#3B2C22] font-medium rounded"><%= @work.status %></span>
        <span><%= @work.category %></span>
        <% if @work.started_at %>
          <span>•</span>
          <span>Started <%= @work.started_at.strftime("%B %Y") %></span>
        <% end %>
        <% if @work.launched_at %>
          <span>•</span>
          <span>Launched <%= @work.launched_at.strftime("%B %Y") %></span>
        <% end %>
      </div>

      <% if @work.technologies.present? %>
        <div class="flex flex-wrap gap-2 mb-4">
          <% @work.technologies.each do |tech| %>
            <span class="px-2 py-1 bg-[#3B2C22]/5 text-[#3B2C22] text-xs font-medium rounded">
              <%= tech %>
            </span>
          <% end %>
        </div>
      <% end %>

      <div class="flex gap-4">
        <% if @work.github_url.present? %>
          <%= link_to @work.github_url, target: "_blank", rel: "noopener", class: "text-[#41CFFF] hover:text-[#E58C2E] transition-colors" do %>
            GitHub →
          <% end %>
        <% end %>
        <% if @work.live_url.present? %>
          <%= link_to @work.live_url, target: "_blank", rel: "noopener", class: "text-[#41CFFF] hover:text-[#E58C2E] transition-colors" do %>
            Live Site →
          <% end %>
        <% end %>
      </div>
    </header>

    <div class="story-content text-[#3B2C22] leading-relaxed">
      <%= raw markdown(@work.story) %>
    </div>
  </article>
</div>

<style>
  .story-content h1, .story-content h2, .story-content h3 {
    font-weight: 700;
    color: #3B2C22;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .story-content h1 { font-size: 2rem; }
  .story-content h2 { font-size: 1.5rem; }
  .story-content h3 { font-size: 1.25rem; }

  .story-content p {
    margin-bottom: 1.5rem;
    line-height: 1.875;
  }

  .story-content a {
    color: #41CFFF;
    text-decoration: underline;
  }

  .story-content a:hover {
    color: #E58C2E;
  }

  .story-content ul, .story-content ol {
    margin-bottom: 1.5rem;
    padding-left: 2rem;
  }

  .story-content li {
    margin-bottom: 0.5rem;
  }

  .story-content code {
    background-color: #3B2C22;
    color: #FFF7E1;
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
  }

  .story-content pre {
    background-color: #3B2C22;
    color: #FFF7E1;
    padding: 1rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin-bottom: 1.5rem;
  }

  .story-content pre code {
    background-color: transparent;
    padding: 0;
  }

  .story-content blockquote {
    border-left: 4px solid #41CFFF;
    padding-left: 1rem;
    font-style: italic;
    color: #3B2C22;
    opacity: 0.8;
    margin-bottom: 1.5rem;
  }
</style>
