<div class="max-w-3xl mx-auto px-6 py-12">
  <div class="mb-8">
    <%= link_to "← Back to Work", works_path, class: "text-[#41CFFF] hover:text-[#E58C2E] transition-colors" %>
  </div>

  <article class="prose prose-lg max-w-none">
    <header class="mb-8 pb-8 border-b-2 border-[#3B2C22]/10">
      <h1 class="text-4xl font-bold mb-4 text-[#3B2C22]"><%= @work.title %></h1>

      <div class="flex flex-wrap items-center gap-4 text-sm text-[#3B2C22]/60 mb-4">
        <span class="px-3 py-1 bg-[#A8E063] text-[#3B2C22] font-medium rounded"><%= @work.status %></span>
        <span><%= @work.category %></span>
        <% if @work.started_at %>
          <span>•</span>
          <span>Started <%= @work.started_at.strftime("%B %Y") %></span>
        <% end %>
        <% if @work.launched_at %>
          <span>•</span>
          <span>Launched <%= @work.launched_at.strftime("%B %Y") %></span>
        <% end %>
      </div>

      <% if @work.technologies.present? %>
        <div class="flex flex-wrap gap-2 mb-4">
          <% @work.technologies.each do |tech| %>
            <span class="px-2 py-1 bg-[#3B2C22]/5 text-[#3B2C22] text-xs font-medium rounded">
              <%= tech %>
            </span>
          <% end %>
        </div>
      <% end %>

      <div class="flex gap-4">
        <% if @work.github_url.present? %>
          <%= link_to @work.github_url, target: "_blank", rel: "noopener", class: "text-[#41CFFF] hover:text-[#E58C2E] transition-colors" do %>
            GitHub →
          <% end %>
        <% end %>
        <% if @work.live_url.present? %>
          <%= link_to @work.live_url, target: "_blank", rel: "noopener", class: "text-[#41CFFF] hover:text-[#E58C2E] transition-colors" do %>
            Live Site →
          <% end %>
        <% end %>
      </div>
    </header>

    <div class="story-content text-[#3B2C22] leading-relaxed">
      <%= raw markdown(@work.story) %>
    </div>
  </article>
</div>

<style>
  /* Main story heading */
  .story-content > h1:first-child {
    font-size: 2.5rem;
    font-weight: 700;
    color: #3B2C22;
    margin-bottom: 2rem;
    line-height: 1.2;
  }

  /* Section headings */
  .story-content h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #3B2C22;
    margin-top: 3rem;
    margin-bottom: 1rem;
  }

  .story-content h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #3B2C22;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
  }

  /* Paragraphs - generous spacing for readability */
  .story-content p {
    margin-bottom: 1.75rem;
    line-height: 2;
    font-size: 1.125rem;
  }

  /* Bold text in paragraphs - acts as mini section headers */
  .story-content p strong {
    display: block;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 0.5rem;
    font-size: 1.25rem;
  }

  /* Links */
  .story-content a {
    color: #41CFFF;
    text-decoration: underline;
    transition: color 0.2s;
  }

  .story-content a:hover {
    color: #E58C2E;
  }

  /* Lists - better spacing */
  .story-content ul, .story-content ol {
    margin-bottom: 2rem;
    padding-left: 2rem;
    line-height: 1.875;
  }

  .story-content li {
    margin-bottom: 0.75rem;
  }

  /* Horizontal rules - section dividers */
  .story-content hr {
    border: none;
    border-top: 2px solid #3B2C22;
    opacity: 0.1;
    margin: 3rem 0;
  }

  /* Inline code */
  .story-content code {
    background-color: #3B2C22;
    color: #FFF7E1;
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875em;
  }

  /* Code blocks */
  .story-content pre {
    background-color: #3B2C22;
    color: #FFF7E1;
    padding: 1.25rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin-bottom: 2rem;
    line-height: 1.5;
  }

  .story-content pre code {
    background-color: transparent;
    padding: 0;
  }

  /* Blockquotes */
  .story-content blockquote {
    border-left: 4px solid #41CFFF;
    padding-left: 1.5rem;
    font-style: italic;
    color: #3B2C22;
    opacity: 0.8;
    margin-bottom: 2rem;
    margin-top: 2rem;
    font-size: 1.125rem;
  }

  /* Footer section - distinct styling */
  .story-content > hr:last-of-type ~ p {
    font-size: 1rem;
    line-height: 1.75;
  }

  .story-content > hr:last-of-type ~ p strong {
    display: inline;
    font-weight: 600;
    font-size: inherit;
    margin: 0;
  }
</style>
